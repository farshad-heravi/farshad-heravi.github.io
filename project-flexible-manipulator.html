<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rigid-Flexible Manipulator | Farshad Nozad Heravi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <header class="main-header">
        <div class="container">
            <a href="index.html" class="logo">Farshad Nozad Heravi</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">About Me</a></li>
                    <li><a href="projects.html" class="active">Projects</a></li>
                    <li><a href="skills.html">Skills</a></li>
                    <li><a href="resume.html">Resume</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <div class="project-page-container">
            <!-- Project Header -->
            <section class="project-header">
                <h1>Spatial Rigid-Flexible Link Manipulator</h1>
                <p class="subtitle">Ph.D. Research on Advanced Control and State Estimation for Rigid-Flexible Link Manipulators.</p>
                <div class="project-info-bar">
                    <div><strong><i class="fas fa-calendar-alt"></i> Timeline:</strong> 2020 - 2024</div>
                    <div><strong><i class="fas fa-flask"></i> Type:</strong> Control Systems / State Estimation / Software Development</div>
                    <div><strong><i class="fas fa-user"></i> Role:</strong> Lead Researcher</div>
                </div>
            </section>

            <!-- Hero Media -->
            <section class="project-hero-media">
                <img src="media/images/rflm_experimantal.png" alt="Experimental setup with Universal Robot and vision system" style="width:50%; border-radius: 8px; display: block; margin: 0 auto;">
            </section>

            <!-- Project Overview -->
            <section class="project-overview">
                <h2>Project Overview</h2>
                <div class="overview-grid">
                    <div>
                        <h3><i class="fas fa-industry"></i> The Challenge & My Objective</h3>
                        <p style="text-align: justify;">
                            In modern automation, especially in fields like electronics assembly and aerospace manufacturing, there is a constant demand for robots that are faster, lighter, and more energy-efficient. However, using lightweight materials introduces a critical trade-off: structural flexibility. During high-speed movements, these flexible links vibrate, drastically reducing endpoint accuracy and slowing down production cycles.
                        </p>
                        <p style="text-align: justify;">
                            My Ph.D. research directly addressed this fundamental challenge. The core objective was <b>to develop a comprehensive system capable of modeling, estimating, and actively controlling the vibrations of flexible links in real-time,</b> enabling lightweight robots to move quickly without sacrificing precision.
                        </p>
                    </div>
                    <div>
                        <h3><i class="fas fa-check-circle"></i> Key Outcomes</h3>
                        <ul>
                            <li>Designed a novel Asynchronous Kalman Filter for state estimation.</li>
                            <li>Achieved a real-time estimation rate of 1000 Hz for the flexible link's state.</li>
                            <li>Successfully validated advanced control strategies (e.g., force control, MPC) on a physical UR robot.</li>
                            <li>Published findings in a peer-reviewed conference paper.</li>
                        </ul>
                        <h3><i class="fas fa-cogs"></i> Tech Stack</h3>
                        <div class="project-tags">
                             <span class="tag">ROS</span> <span class="tag">C++</span> <span class="tag">Python</span> <span class="tag">OpenCV</span> <span class="tag">MATLAB</span> <span class="tag">ADAMS</span> <span class="tag">SolidWorks</span> <span class="tag">MoveIt</span>
                        </div>
                    </div>
                </div>
                 <!-- My Contribution Section -->
                <div style="margin-top: 2rem;">
                     <h3><i class="fas fa-user-cog"></i> My Contribution</h3>
                     <p style="text-align: justify;">As the core of my Ph.D., I led the development from dynamic modeling to software and hardware implementation. This included designing the state estimation algorithms, implementing control strategies, and validating the entire system on a Universal Robot arm.</p>
                </div>
            </section>
            
            <!-- Technical Deep Dive -->
            <section class="technical-deep-dive">
                <h2>Technical Deep Dive</h2>
                <div class="deep-dive-grid">
                    <div class="dive-item">
                        <h3>Dynamic Modeling and Validation</h3>
                        <p style="text-align: justify;">An accurate dynamic model is the foundation for any advanced controller. I developed a precise model of the rigid-flexible manipulator using a <b>Lagrangian formulation combined with the Assumed Modes Method (AMM)</b>. This approach discretized the flexible link's infinite degrees of freedom by considering its first two dominant vibration modes, effectively capturing the most significant dynamics while keeping the model computationally tractable for real-time applications. To ensure accuracy, the analytical model was rigorously <b>validated against a high-fidelity simulation in MSC ADAMS</b>, confirming its suitability for controller and state estimator design.</p>
                    </div>
                    <div class="dive-item">
                        <h3>The Core Challenge: State Estimation</h3>
                        <p style="text-align: justify;">The primary difficulty in controlling flexible manipulators is knowing the exact state (position, velocity, deflection) of the flexible parts in real-time. To solve this, I developed an <b>Asynchronous Kalman Filter</b>. Unlike standard filters, this multi-rate approach was essential for fusing data from a diverse sensor suite with different frequencies and latenciesâ€”specifically, a <b>100Hz IMU</b> and a <b>30Hz camera vision system</b>. By correctly handling these variable delays, the filter successfully produced a clean, high-frequency state estimate running at <b>500 Hz</b>, providing the controller with the timely data it needed.</p>
                    </div>
                    <div class="dive-item">
                        <h3>Advanced Control & Experimental Validation</h3>
                        <p style="text-align: justify;">With a reliable 500 Hz state estimate, it became possible to implement advanced control laws that actively counteract vibrations. The system was deployed on a UR5e arm with a custom flexible link attached. The high-speed feedback loop allowed control strategies like <b>Model Predictive Control (MPC)</b> and precise <b>force control</b> to effectively dampen oscillations, while precisely tracking the desired trajectory, leading to significantly improved endpoint accuracy and faster settling times, which is critical for high-speed industrial tasks.</p>
                    </div>
                </div>
            </section>
            
            <!-- Publication Section -->
            <section class="project-publication">
                <h2>Peer-Reviewed Publication</h2>
                <div class="publication-card">
                    <p class="publication-title">"An Asynchronous Kalman Filter-Based State Estimation Approach for Rigid-Flexible Link Robotic Manipulators"</p>
                    <p class="publication-authors"><strong>Farshad N. Heravi</strong>, H. Moradi, L. Xu et al.</p>
                    <p class="publication-venue"><em>6th International Conference on Reconfigurable Mechanisms and Robots (ReMAR 2024)</em></p>
                    <!-- TODO: Link to the actual publication PDF or DOI link -->
                    <a href="https://ieeexplore.ieee.org/abstract/document/10617590" target="_blank" class="btn">View Publication</a>
                </div>
            </section>
            
            <!-- Media Gallery -->
            <section class="media-gallery">
                <h2>Gallery</h2>
                
                <div class="gallery-grid">
                    <!-- Schematic of the Rigid-Flexible Link Manipulator -->
                    <div class="gallery-item" onclick="openModal('media/images/rlfm_schematics.png',
                            'Schematic of the Rigid-Flexible Link Manipulator',
                            'Detailed CAD rendering showing the complete assembly of the UR5e robotic arm with custom end-effector adapter, and the flexible link attachment. The design features a rigid attachment mounted to the robot flange, encompassing a realsense RGBD camera, and a slender light flexible link. A marker and an IMU sensor are installed on the tip point of the fleixibe linke.')">
                        <img src="media/images/rlfm_schematics.png" 
                        alt="The physical robot and camera setup">
                        
                        <div class="image-description">
                            <h4 style="text-align: center;">Schematic of the Rigid-Flexible Link Manipulator</h4>
                        </div>
                    </div>
                    
                    <!-- Dynamic modeling results -->
                    <div class="gallery-item" onclick="openModal('media/images/rflm_dynamic_modeling.png',
                        'Dynamic Modeling Validation with MSC ADAMS',
                        'Comprehensive dynamic analysis results combining mode shape visualization with quantitative validation data. The flexible link was studied in boundary conditions considering its use case in the robot: a clamped-free and a cantilever-free BCs. The tables compare natural frequencies from the derived analytical model against MSC ADAMS simulation results. The consistently low error percentages (below 1%) demonstrate excellent agreement between the derived model and commercial simulation software, validating the accuracy and reliability of the dynamic modeling approach.')">
                        
                        <img src="media/images/rflm_dynamic_modeling.png" 
                            alt="Validation of the dynamic model against the ADAMS numerical model">
                        <div class="image-description">
                            <h4 style="text-align: center;">Dynamic Model Validation Results</h4>
                        </div>
                    </div>
                    
                    <!-- System architecture & control flow -->
                    <div class="gallery-item" onclick="openModal('media/images/RFLM_flowcharts.png', 'System Architecture & Control Flow', 
                        'Comprehensive block diagram illustrating the closed-loop control system architecture for the UR5e rigid-flexible link manipulator. The software section features an Asynchronous Kalman Filter (AKF) for state estimation, Model Predictive Control (MPC) for force command generation, dynamic model, marker detection module, and a low-pass filter. The hardware section includes the UR5e robotic arm, RGB-D camera for visual feedback, and IMU sensors for inertial measurements. The system demonstrates a sophisticated sensor fusion approach where camera data (processed through marker detection) and filtered IMU data are combined with model predictions to provide real-time state estimates, enabling precise control of the flexible manipulator through the MPC controller.')">
                        
                        <img src="media/images/RFLM_flowcharts.png"
                            alt="Flowcharts showing the state estimation and control system as well as the hardware setup">
                        <div class="image-description">
                            <h4 style="text-align: center;">System Architecture & Control Flow</h4>
                        </div>
                    </div>
                    
                    <!-- Experimental setup -->
                    <div class="gallery-item" onclick="openModal('media/images/real_rflm.jpg',
                        'Experimental Setup',
                        'Experimental setup with the UR5e robotic arm and the rigid-flexible link manipulator. Multiple views showing different angles and components of the system.',
                        ['media/images/rflm_experimantal.png'],
                        ['Close-up view of the experimental setup showing the UR5e robotic arm with the flexible link attachment and sensor configuration.'],
                        ['Close-up Experimental View'])" >
                        <img src="media/images/real_rflm.jpg" 
                            alt="Experimental setup with the UR5e robotic arm and the rigid-flexible link manipulator">
                        <div class="image-description">
                            <h4 style="text-align: center;">Experimental Setup</h4>
                        </div>
                    </div>
                    
                    <!-- MPC performance results -->
                    <div class="gallery-item" onclick="openModal('media/images/MPC_CF_try02_V2.png',
                        'Performance of MPC force controller',
                        'Performance of MPC force controller on both trajectory tracking and vibration suppression goals. The scenario was a reciprocal motion of the end-effector, with a distance of 10cm. The plot demonstrates the effectiveness of the developed control strategies, limiting the vibrations to less than 2cm.')">
                        
                        <img src="media/images/MPC_CF_try02_V2.png" 
                            alt="Plot showing vibration with and without control">
                        <div class="image-description">
                            <h4 style="text-align: center;">MPC Performance Results</h4>
                        </div>
                    </div>
                    
                    <!-- AKF Flowchart -->
                    <div class="gallery-item" onclick="openModal('media/images/rflm_state_estimation_akf_schematics.png',
                        'Proposed Asynchronous Kalman Filter Flowchart',
                        'Flowchart showing the proposed AKF state estimation flowchart in which data from camera has been used to correct the AKF estimation using dynamic mode and the IMU readings.')">
                        
                        <img src="media/images/rflm_state_estimation_akf_schematics.png" 
                            alt="Flowchart of the Asynchronous Kalman Filter">
                        <div class="image-description">
                            <h4 style="text-align: center;">AKF Architecture</h4>
                        </div>
                    </div>

                    <!-- State Estimation Results -->
                    <div class="gallery-item" onclick="openModal('media/images/rflm_state_estimation_results.png',
                        'State Estimation Performance over a 1D linear motion',
                        'Comprehensive analysis of the state estimation performance comparing different sensor configurations.',
                        ['media/images/rflm_state_estimation_results_only_imu.png'],
                        ['State estimation results using only IMU sensor data, demonstrating the necessity of sensor fusion for accurate state estimation.'],
                        ['IMU Only Results'])">
                        
                        <img src="media/images/rflm_state_estimation_results.png" 
                            alt="State estimation experimental results">
                        <div class="image-description">
                            <h4 style="text-align: center;">State Estimation Performance</h4>
                        </div>
                    </div>
                </div>

                <!-- TODO: Add marker detection gif -->
                 
            </section>

            <!-- Image Modal Overlay -->
            <div id="imageModal" class="modal-overlay" onclick="closeModal()">
                <div class="modal-content" onclick="event.stopPropagation()">
                    <span class="close-btn" onclick="closeModal()">&times;</span>
                    
                    <!-- Media Container -->
                    <div class="modal-media-container">
                        <img id="modalImage" src="" alt="Modal Image" style="display: none;">
                        <video id="modalVideo" controls style="display: none;">
                            <source src="" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        
                        <!-- Navigation Arrows -->
                        <button class="modal-nav-btn modal-prev" onclick="changeImage(-1)">&lt;</button>
                        <button class="modal-nav-btn modal-next" onclick="changeImage(1)">&gt;</button>
                    </div>
                    
                    <!-- Image Counter -->
                    <div class="image-counter">
                        <span id="currentImageIndex">1</span> / <span id="totalImages">1</span>
                    </div>
                    
                    <!-- Dots Indicator -->
                    <div class="dots-indicator" id="dotsContainer">
                        <span class="dot active" onclick="goToImage(0)"></span>
                    </div>
                    
                    <div class="modal-description">
                        <h3 id="modalTitle"></h3>
                        <p id="modalText"></p>
                    </div>
                </div>
            </div>

        </div>
    </main>



    <footer class="main-footer">
        <div class="container">
             <p><a href="projects.html" style="color: white; text-decoration: underline;">Back to All Projects</a></p>
            <div class="social-icons">
                <a href="mailto:f.n.heravi@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a>
                <a href="https://www.linkedin.com/in/fheravi" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                <a href="https://github.com/farshad-heravi" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
            </div>
            <p>&copy; 2025 Farshad Nozad Heravi</p>
        </div>
    </footer>

    <!-- JavaScript for Modal Functionality -->
    <script src="modal-gallery.js"></script>

</body>
</html>

